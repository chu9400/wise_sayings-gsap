<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Effect Portfolio</title>

    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div id="parallax__content" aria-label="전체 영역">
        <section id="section1">
            <div class="parallax__item1">
                <p class="pi__text t1">삶은 무한한 모험이다.</p>
                <p class="pi__text t2">모험은 성장의 열쇠이며,</p>
                <p class="pi__text t3">우리는 용기와 믿음으로</p>
                <p class="pi__text t4">이루어진 모험가다.</p>
            </div>
        </section>
        <!-- //section1 -->

        <section id="section2">
            <div class="parallax__item2">
                <p class="pi__text t1">꿈을 추구할 용기만 있으면</p>
                <p class="pi__text t2">모든 꿈은 반드시 이루어진다.</p>
                <p class="pi__text t3 pi__desc__name"> - 월트 디즈니 -</p>
                <div class="pi__img"></div>    
            </div>
        </section>
        <!-- //section2 -->

        <section id="section3">
            <div class="parallax__item3">
                <p class="pi__text">이 순간을 사랑하라.</p>
            </div>
        </section>
        <!-- //section3 -->


        <section id="section4">
            <div class="parallax__item4">
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
            </div>
        </section>

        
        <section id="section5">
            <div class="parallax__item5">
                <p class="pi__text t1">성공을</p>
                <p class="pi__text t2">피하는</p>
                <p class="pi__text t3">것보다</p>
                <p class="pi__text t4">꿈을</p>
                <p class="pi__text t5">따라가며</p>
                <p class="pi__text t6">실패하는 것이</p>
                <p class="pi__text t7">낫다.</p>
            </div>
        </section>
        
        <section id="section6">
            <div class="parallax__item6">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc">내일을 만들려면 <br /> 오늘 행동하세요.</p>
            </div>

            <div class="parallax__item6">
                <figure class="pi__imgWrap">
                    <div class="pi__img__left"></div>
                </figure>
                <p class="pi__desc pi__desc__left">실수에서 배우고<br /> 성장하세요.</p>
            </div>
        </section>

        <section id="section7">
            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="sec7__img01 pi__img reveal reveal_right "></div>
                </figure>
                <p class="pi__desc reveal">긍정적인 생각,<br /> 긍정적인 결과.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="sec7__img02 pi__img__left reveal reveal_left" data-delay="1"></div>
                </figure>
                <p class="pi__desc pi__desc__left reveal reveal_left" data-delay="0.5">성공은 꾸준한 노력의 <br /> 결과입니다.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="sec7__img03 pi__img  reveal reveal_bottom" data-delay="1"></div>
                </figure>
                <p class="pi__desc reveal reveal_bottom" data-delay="0.5">어려움을 이기는 것이 <br /> 성취입니다.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="sec7__img04 pi__img__left  reveal reveal_top" data-delay="1"></div>
                </figure>
                <p class="pi__desc pi__desc__left reveal reveal_top" data-delay="0.5">높은 목표가 <br /> 높은 성과를 가져옵니다.</p>
            </div>

        </section>

        <section id="section8">
            <div class="parallax__item8">
                <p class="pi__desc">
                    자신을 등불로 삼고 자신에게 의지하라. <br />
                    <span class="pi__desc__name">- 부처 -</span>
                </p>
                
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
            </div>
        </section>

        <!-- 가로 모드 -->
        <div id="horizontal">
            <section id="section9">
                <div class="parallax__item9 horizonBg" data-bgcolor="#111111">
                    <p class="pi__desc">
                        어제와 똑같이 살면서 다른 미래를 기대하는 것은 <br /> 
                        정신병 초기 증세이다. <br />
                        <span class="pi__desc__name">- 알베르트 아인슈타인 -</span>
                    </p>
                    <figure class="pi__imgWrap img9">
                        <div class="pi__img"></div>
                    </figure>
                </div>
            </section>

            <section id="section10">
                <div class="parallax__item10 horizonBg" data-bgcolor="#593b22">
                    <figure class="pi__imgWrap img10">
                        <div class="pi__img"></div>
                    </figure>
                    <p class="pi__desc">
                        인생을 다시 산다면 <br /> 
                        다음번에는 더 많은 실수를 저질러라. <br />
                        <span class="pi__desc__name">- 나딘 스테어 -</span>
                    </p>
                </div>
            </section>

            <section id="section11">
                <div class="parallax__item11 horizonBg" data-bgcolor="#245922">
                    <p class="pi__desc">
                        인생은 가까이서 보면 비극, <br /> 
                        멀리서 보면 희극이다. <br />
                        <span class="pi__desc__name">- 찰리 채플린 -</span>
                    </p>
                    <figure class="pi__imgWrap img11">
                        <div class="pi__img"></div>
                    </figure>
                </div>
            </section>

            <section id="section12">
                <div class="parallax__item12 horizonBg" data-bgcolor="#243859">
                    <figure class="pi__imgWrap img12">
                        <div class="pi__img"></div>
                    </figure>
                    <p class="pi__desc">
                        죽는다는 것이 두려운 것이 아니다. <br /> 
                        삶을 살지 못하는 것이 두려운 것이다. <br />
                        <span class="pi__desc__name">- 빅토르 위고 -</span>
                    </p>
                </div>
            </section>

            <section id="section13">
                <div class="parallax__item13 horizonBg" data-bgcolor="#3f2459">

                </div>
            </section>
        </div>
        <!-- 가로모드 끝 -->


        <!-- pin 고정 -->
        <section id="section14" class="fix">
            <div class="parallax__item14">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc">
                    나는 이제 죽음이요, <br /> 
                    세상의 파괴자가 되었다.<br />
                    <span class="pi__desc__name">- 줄리어스 로버트 오펜하이머 -</span>
                </p>
            </div>
        </section>

        <section id="section15" class="fix">
            <div class="parallax__item15">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc">
                    행복한 가정은 모두 비슷한 이유로 행복하지만 <br /> 
                    불행한 가정은 저마다의 이유로 불행하다.<br />
                    <span class="pi__desc__name">- 레프 톨스토이 -</span>
                </p>
            </div>
        </section>

        <section id="section16" class="fix">
            <div class="parallax__item16">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc">
                    타인의 고통에 공감하지 못하는 무능력, <br /> 
                    그것이 바로 "악"이다. <br />
                    <span class="pi__desc__name">- 한나 아렌트 -</span>
                </p>
            </div>
        </section>

        <!-- 빈 여백 -->
        <div id="section17">
            <div class="parallax__item17"></div>
        </div>

        <section id="section18">
            <div class="parallax__item18">
                <p class="pi__desc split">Thanks For Watching</p>
            </div>
        </section>
        
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>

    <!-- 
        1. 글씨나타나기 애니메이션 수정
        2. 배경색 다시 원래대로 돌아오게 수정
    
    -->
    <!-- 01 : 서서히 보이고 교차로 사라지기 -->
    <script>
         gsap.fromTo("#section1 > .parallax__item1 > .pi__text", {autoAlpha:0}, {autoAlpha:1, duration:5,});
            const ani1 = gsap.timeline();
            ani1.to("#section1 .t1", {x: innerWidth, duration:2,}, "text")
                .to("#section1 .t2", {x: -innerWidth, duration:2}, "text")
                .to("#section1 .t3", {x: innerWidth, duration:2}, "text")
                .to("#section1 .t4", {x: -innerWidth, duration:2}, "text")

            ScrollTrigger.create({
                animation: ani1,
                trigger: "#section1",
                start: "top top",
                end: "+=3000",
                scrub: 0.1,
                pin: true,
                markers: false,
                anticipatePin: 1,
                ease: "none",
            });
    </script>

    <!-- 02 : 교차로 나타나기 -->
    <script>
        const ani2 = gsap.timeline();
        ani2.from("#section2 .t1", {x: innerWidth * 1})
            .from("#section2 .t2", {x: innerWidth * -1})
            .from("#section2 .t3", {x: innerWidth * 1})
            .from("#section2 .pi__img", {x: innerWidth * 1, rotation: 360, scale: 5})

        ScrollTrigger.create({
            animation: ani2,
            trigger: "#section2",
            start: "top top",
            end: "+=3000",            
            scrub: 0.1,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 03 : 텍스트 확대 -->
    <script>
        const ani3 = gsap.timeline();
        ani3.to("#section3 .pi__text", {scale: 40, duration: 5, autoAlpha: 1})
            .to("#section3 .pi__text", {autoAlpha: 0})

        ScrollTrigger.create({
            animation: ani3,
            trigger: "#section3",
            start: "top top",
            end: "+=3000",
            scrub: 0.1,
            pin: true,
            anticipatePin: 1,
            markers: false,
        });
    </script>

    <!-- 04 : 이미지 랜덤으로 떨어지기 -->
    <script>
        const ani4 = gsap.timeline();
        ani4.from("#section4 .sec4__img", {
            autoAlpha: 0,
            y: -300,
            ease: "back.out(4)",
            stagger: {
                amount: 3,
                from: "center"
            }
        })

        ScrollTrigger.create({
            animation: ani4,
            trigger: "#section4",
            start: "top top",
            end: "+=1500",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 05 : 텍스트 제자리 애니메이션 -->
    <script>
        const ani5 = gsap.timeline();
        ani5.from("#section5 .t1", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t2", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t3", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t4", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t5", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t6", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t7", {autoAlpha: 0, duration: 1, y: 50}, "+=1")

        ScrollTrigger.create({
            animation: ani5,
            trigger: "#section5",
            start: "top top",
            end: "+=6000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 06 텍스트 효과 : 이질감 -->
    <script>        
        gsap.utils.toArray("#section6 .pi__desc").forEach((item)=> {
            gsap.to(item, {
                yPercent: -100,
                ease: "none",
                duration: 0.5,
                scrollTrigger: {
                    trigger: item,
                    start: "top bottom", 
                    end: "+=1000",
                    markers: false,
                    scrub: 0.5,
                },  
            });
        });
    </script>

    <!-- 07 텍스트 효과 : 나타나기-->
    <script>
        const hide = (item) => {
            gsap.set(item, {autoAlpha:0});
        }

        const animate = (item) => {
            let xNum = 0;
            let yNum = 0;
            let delay = item.dataset.delay;

            if (item.classList.contains("reveal_left")) {
                xNum = -100;
                yNum = 0;
            } else if (item.classList.contains("reveal_bottom")){
                xNum = 0;
                yNum = 100;
            } else if (item.classList.contains("reveal_top")){
                xNum = 0;
                yNum = -100;
            } else {
                xNum = 100;
                yNum = 0
            }

            gsap.fromTo(item, 
                {autoAlpha: 0, x: xNum, y: yNum}, 
                {autoAlpha: 1, x: 0, y:0, delay: delay, duration:1.5, overwrite:"auto", ease:"expo"}
            )
        }

        gsap.utils.toArray(".reveal").forEach((item)=>{
            hide(item);

            ScrollTrigger.create({
                trigger:item,
                start:"top bottom",
                end: "bottom top",
                markers: false,
                it:"77777",
                onEnter: () => {animate(item)}
            });
        });




    </script>


    <!-- 08 이미지 크기 줄이기 -->
    <script>
        const ani8 = gsap.timeline();
        ani8.from("#section8 .pi__desc", {y : -100, autoAlpha:0})
            .from("#section8 .pi__img", {autoAlpha: 0})
            .to("#section8 .pi__img", {scale: 1.5})
            .to("#section8 .pi__img", {scale: 0,})
            .to("#section8 .pi__desc", {autoAlpha: 0})

        ScrollTrigger.create({
            animation: ani8,
            trigger: "#section8",
            start: "top top",
            end: "+=2000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    
    <!-- 09 가로모드 -->
    <script>

        const horizontal = document.querySelector("#horizontal");
        const sections = gsap.utils.toArray("#horizontal > section");

        let scrollTween = gsap.to(sections, {
            xPercent: -100 * (sections.length - 1),
            ease: "none",
            scrollTrigger: {
                trigger: horizontal,
                start: "top top",
                end: () =>  "+=" + (horizontal.offsetWidth - innerWidth),
                pin: true,
                anticipatePin: 1,
                scrub: 1,
                invalidateOnRefresh: true,
            }
        });

        // 배경색 변경
        gsap.utils.toArray(".horizonBg").forEach((item) => {
            let color = item.getAttribute("data-bgcolor");

            ScrollTrigger.create({
                trigger: item,
                containerAnimation: scrollTween,
                start: "left 90%",
                end: "bottom 50%",
                markers: false,
                id:"bg_TEST",

                onEnter: () => gsap.to("section", {
                    backgroundColor: color,
                    duration: 1.4
                }),
                onEnterBack: () => gsap.to("section", {
                    backgroundColor: color,
                    duration: 1.4
                }),
            });
        });

        // 이미지 이동
        const ani9 = gsap.timeline();
        ani9.fromTo(".img9", 
            { x: -innerWidth,}, 
            { x: innerWidth, rotation: 720, duration: 20,}
        );
        ani9.to(".img9", {autoAlpha: 0,});

        ScrollTrigger.create({
            animation: ani9,
            trigger: ".img9",
            start: "top 90%",
            end: "+=1000",
            scrub: 0.01,
            markers: false,
            id : "bounce",
        });

        //10 이미지 나타나기
        gsap.to(".img10", {
            y: -150,
            duration: 2,
            ease: "elastic",
            scrollTrigger: {
                trigger: ".img10",
                containerAnimation: scrollTween,
                start: "left center",
                toggleActions: "play none reverse none",
                markers: false,
                id: "img10"
            }
        });

        //11 이미지 나타나기
        gsap.to(".img11", {
            rotation: 720,
            duration: 3,
            ease: "elastic",
            scrollTrigger: {
                trigger: ".img11",
                containerAnimation: scrollTween,
                start: "left center",
                toggleActions: "play none reverse none",
                markers: false,
                id: "img11"
            }
        });

        //12 이미지 내려오기
        gsap.from(".img12", {
            y: -800,
            ease: "none",
        })

        gsap.to(".img12", {
            y: 0,
            duration: 2,
            ease: "none",
            scrollTrigger: {
                trigger: ".img12",
                containerAnimation: scrollTween,
                start: "left bottom",
                end: "+=500",
                scrub: 1,
                markers: false,
                id: "img12"
            }
        });
        
    </script>

    <!-- 14 pin 고정 -->
    <script>
        gsap.utils.toArray(".fix").forEach((pannel, i) =>{
            ScrollTrigger.create({
                trigger:pannel,
                start: "top top",
                pin: true,
                pinSpacing: false,
            })
        })

    </script>

    <!-- 18 텍스트 랜덤으로 나타내기 -->
    <script>        
        const targets = document.querySelector(".split");

        let SplitClient = new SplitType(targets, { type: "lines, words, chars" });
        let lines = SplitClient.lines;
        let words = SplitClient.words;
        let chars = SplitClient.chars;

        gsap.from(chars, {
            yPercent: 100,
            opacity: 0,
            duration: 1,
            ease: "circ.out",
            stagger: {
                amount: 1,
                from: "random"
            },
            scrollTrigger: {
                trigger: targets,
                start: "top bottom",
                markers: false,
                toggleActions: "play none reverse none",
            }
        });

    </script>



   
</body>
</html>