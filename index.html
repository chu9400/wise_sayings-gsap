<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Effect Portfolio</title>

    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div id="parallax__content" aria-label="전체 영역">
        <section id="section1">
            <div class="parallax__item1">
                <p class="pi__text t1">이제 나는 죽음이요, </p>
                <p class="pi__text t2">세상의 파괴자가 되었도다</p>
                <p class="pi__text t3">희망은 길을 밝혀준다.</p>
                <p class="pi__text t4">작은 것이 큰 힘을 지닌다.</p>
            </div>
        </section>
        <!-- //section1 -->

        <section id="section2">
            <div class="parallax__item2">
                <p class="pi__text t1">section2 title1</p>
                <p class="pi__text t2">section2 title2</p>
                <p class="pi__text t3">section2 title3</p>
                <div class="pi__img"></div>    
            </div>
        </section>
        <!-- //section2 -->

        <section id="section3">
            <div class="parallax__item3">
                <p class="pi__text">노력은 불패의 열쇠</p>
                <p class="pi__text">노력은 불패의 열쇠</p>
            </div>
        </section>
        <!-- //section3 -->


        <section id="section4">
            <div class="parallax__item4">
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
                <div class="pi__img sec4__img"></div>
            </div>
        </section>

        
        <section id="section5">
            <div class="parallax__item5">
                <p class="pi__text t1">코딩이란</p>
                <p class="pi__text t2">프로그래밍 코드를</p>
                <p class="pi__text t3">어딘가에</p>
                <p class="pi__text t4">적는 것을 말한다</p>
                <p class="pi__text t5">코딩은</p>
                <p class="pi__text t6">누구나</p>
                <p class="pi__text t7">할 수 있다.</p>
            </div>
        </section>
        
        <section id="section6">
            <div class="parallax__item6">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc">6높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>

            <div class="parallax__item6">
                <figure class="pi__imgWrap">
                    <div class="pi__img__left"></div>
                </figure>
                <p class="pi__desc pi__desc__left">6높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>
        </section>

        <section id="section7">
            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
                <p class="pi__desc reveal">7높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="pi__img__left reveal reveal_left" data-delay="1"></div>
                </figure>
                <p class="pi__desc pi__desc__left reveal reveal_left" data-delay="0.5">7높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="pi__img reveal reveal_bottom" data-delay="1"></div>
                </figure>
                <p class="pi__desc reveal reveal_bottom" data-delay="0.5">7높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>

            <div class="parallax__item7">
                <figure class="pi__imgWrap">
                    <div class="pi__img__left reveal reveal_top" data-delay="1"></div>
                </figure>
                <p class="pi__desc pi__desc__left reveal reveal_top" data-delay="0.5">7높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
            </div>

        </section>

        <section id="section8">
            <div class="parallax__item8">
                <p class="pi__desc">8높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
            </div>
        </section>

        <section id="section9">
            <div class="parallax__item9">
                <p class="pi__desc">9높은 목표를 세우고, <br /> 스스로 채찍질 한다.</p>
                <figure class="pi__imgWrap">
                    <div class="pi__img"></div>
                </figure>
            </div>
        </section>

        
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>

    
    <!-- 01 : 서서히 보이고 교차로 사라지기 -->
    <script>
         gsap.fromTo("#section1 > .parallax__item1 > .pi__text", {autoAlpha:0}, {autoAlpha:1, duration:5,});
            const ani1 = gsap.timeline();
            ani1.to("#section1 .t1", {x: innerWidth, duration:2,}, "text")
                .to("#section1 .t2", {x: -innerWidth, duration:2}, "text")
                .to("#section1 .t3", {x: innerWidth, duration:2}, "text")
                .to("#section1 .t4", {x: -innerWidth, duration:2}, "text")

            ScrollTrigger.create({
                animation: ani1,
                trigger: "#section1",
                start: "top top",
                end: "+=1000",
                scrub: true,
                pin: true,
                markers: false,
                anticipatePin: 1,
                /* duration: 2, */
                ease: "none",
            });
    </script>

    <!-- 02 : 교차로 나타나기 -->
    <script>
        const ani2 = gsap.timeline();
        ani2.from("#section2 .t1", {x: innerWidth * 1})
            .from("#section2 .t2", {x: innerWidth * -1})
            .from("#section2 .t3", {x: innerWidth * 1})
            .from("#section2 .pi__img", {x: innerWidth * 1, rotation: 360, scale: 5})

        ScrollTrigger.create({
            animation: ani2,
            trigger: "#section2",
            start: "top top",
            end: "+=1000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 03 : 텍스트 확대 -->
    <script>
        const ani3 = gsap.timeline();
        ani3.to("#section3 .pi__text", {scale: 50, duration: 2, autoAlpha: 1})
            .to("#section3 .pi__text", {autoAlpha: 0})

        ScrollTrigger.create({
            animation: ani3,
            trigger: "#section3",
            start: "top top",
            end: "+=2000",
            scrub: true,
            pin: true,
            anticipatePin: 1,
            markers: false
        });
    </script>

    <!-- 04 : 이미지 랜덤으로 떨어지기 -->
    <script>
        const ani4 = gsap.timeline();
        ani4.from("#section4 .sec4__img", {
            autoAlpha: 0,
            y: -300,
            ease: "back.out(4)",
            stagger: {
                amount: 3,
                from: "center"
            }
        })

        ScrollTrigger.create({
            animation: ani4,
            trigger: "#section4",
            start: "top top",
            end: "+=2000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 05 : 텍스트 제자리 애니메이션 -->
    <script>
        const ani5 = gsap.timeline();
        ani5.from("#section5 .t1", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t2", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t3", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t4", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t5", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t6", {autoAlpha: 0, duration: 1, y: 50}, "+=1")
            .from("#section5 .t7", {autoAlpha: 0, duration: 1, y: 50}, "+=1")

        ScrollTrigger.create({
            animation: ani5,
            trigger: "#section5",
            start: "top top",
            end: "+=6000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>

    <!-- 06 텍스트 효과 : 이질감 -->
    <script>
        // const ani6 = gsap.timeline();
        gsap.utils.toArray("#section6 .pi__desc").forEach((item)=> {
            gsap.to(item, {
                yPercent: -100,
                ease: "none",
                duration: 0.5,
                scrollTrigger: {
                    trigger: item,
                    start: "top bottom", 
                    end: "+=1000",
                    markers: false,
                    scrub: 0.5,
                },  
            });
        });
    </script>

    <!-- 07 텍스트 효과 : 나타나기-->
    <script>
        const hide = (item) => {
            gsap.set(item, {autoAlpha:0});
        }

        const animate = (item) => {
            let xNum = 0;
            let yNum = 0;
            let delay = item.dataset.delay;

            if (item.classList.contains("reveal_left")) {
                xNum = -100;
                yNum = 0;
            } else if (item.classList.contains("reveal_bottom")){
                xNum = 0;
                yNum = 100;
            } else if (item.classList.contains("reveal_top")){
                xNum = 0;
                yNum = -100;
            } else {
                xNum = 100;
                yNum = 0
            }

            gsap.fromTo(item, 
                {autoAlpha: 0, x: xNum, y: yNum}, 
                {autoAlpha: 1, x: 0, y:0, delay: delay, duration:1.5, overwrite:"auto", ease:"expo"}
            )
        }

        gsap.utils.toArray(".reveal").forEach((item)=>{
            hide(item);

            ScrollTrigger.create({
                trigger:item,
                start:"top bottom",
                end: "bottom top",
                markers: false,
                it:"77777",
                onEnter: () => {animate(item)}
            });
        });




    </script>


    <!-- 08 이미지 확대하기 -->
    <script>

        const ani8 = gsap.timeline();
        ani8.from("#section8 .pi__desc", {y : -100, autoAlpha:0})
            .to("#section8 .pi__img", {scale: 13})
            .to("#section8 .pi__desc", {autoAlpha: 0})
            .to("#section8 .pi__img", {autoAlpha: 0})

        ScrollTrigger.create({
            animation: ani8,
            trigger: "#section8",
            start: "top top",
            end: "+=2000",
            scrub: true,
            pin: true,
            markers: false,
            anticipatePin: 1
        });
    </script>
   
</body>
</html>